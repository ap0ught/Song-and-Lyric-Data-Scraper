{
    "collab_server" : "",
    "contents" : "# Added polvec on 2/29/16\n\nsurveydata$id <- row.names(surveydata);\n\nfor (x in 1:nrow(surveydata)) {\n  \n  harmvec <- c();\n  fairvec <- c();\n  ingvec <- c();\n  authvec <- c();\n  purityvec <- c();\n  progvec <- c();\n  negvec <- c();\n  posvec <- c();\n  religvec <- c();\n  polvec <- c();\n  \n  weightvec <- c();\n  \n  if (surveydata$like_Pop[surveydata$id==x] > 3 & surveydata$like_Pop[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"pop\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"pop\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"pop\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"pop\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"pop\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"pop\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"pop\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"pop\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"pop\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"pop\"]);\n    \n    if (surveydata$listen_Pop[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Pop[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Pop[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Pop[surveydata$id==x] < 3 | surveydata$listen_Pop[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    \n    if (surveydata$listen_Pop[surveydata$id==x] < 3 | surveydata$listen_Pop[surveydata$id==x] > 5) surveydata$Popfan[surveydata$id==x] <- 0\n    else surveydata$Popfan[surveydata$id==x] <- 1;\n    \n  };\n  \n  if (surveydata$like_Country[surveydata$id==x] > 3 & surveydata$like_Country[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"country\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"country\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"country\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"country\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"country\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"country\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"country\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"country\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"country\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"country\"]);\n    \n    if (surveydata$listen_Country[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Country[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Country[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Country[surveydata$id==x] < 3 | surveydata$listen_Country[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    \n    if (surveydata$listen_Country[surveydata$id==x] < 3 | surveydata$listen_Country[surveydata$id==x] > 5) surveydata$Countryfan[surveydata$id==x] <- 0\n    else surveydata$Countryfan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Rock[surveydata$id==x] > 3 & surveydata$like_Rock[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"rock\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"rock\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"rock\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"rock\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"rock\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"rock\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"rock\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"rock\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"rock\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"rock\"]);\n    \n    if (surveydata$listen_Rock[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Rock[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Rock[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Rock[surveydata$id==x] < 3 | surveydata$listen_Rock[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Rock[surveydata$id==x] < 3 | surveydata$listen_Rock[surveydata$id==x] > 5) surveydata$Rockfan[surveydata$id==x] <- 0\n    else surveydata$Rockfan[surveydata$id==x] <- 1;\n  };\n  \n  \n  if (surveydata$like_R_n_B[surveydata$id==x] > 3 & surveydata$like_R_n_B[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"rbhiphop\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"rbhiphop\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"rbhiphop\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"rbhiphop\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"rbhiphop\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"rbhiphop\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"rbhiphop\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"rbhiphop\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"rbhiphop\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"rbhiphop\"]);\n    \n    if (surveydata$listen_R_n_B[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_R_n_B[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_R_n_B[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_R_n_B[surveydata$id==x] < 3 | surveydata$listen_R_n_B[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_R_n_B[surveydata$id==x] < 3 | surveydata$listen_R_n_B[surveydata$id==x] > 5) surveydata$Rbfan[surveydata$id==x] <- 0\n    else surveydata$Rbfan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Rap[surveydata$id==x] > 3 & surveydata$like_Rap[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"rap\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"rap\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"rap\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"rap\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"rap\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"rap\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"rap\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"rap\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"rap\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"rap\"]);\n    \n    if (surveydata$listen_Rap[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Rap[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Rap[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Rap[surveydata$id==x] < 3 | surveydata$listen_Rap[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Rap[surveydata$id==x] < 3 | surveydata$listen_Rap[surveydata$id==x] > 5) surveydata$Rapfan[surveydata$id==x] <- 0\n    else surveydata$Rapfan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Dance[surveydata$id==x] > 3 & surveydata$like_Dance[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"dance\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"dance\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"dance\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"dance\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"dance\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"dance\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"dance\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"dance\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"dance\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"dance\"]);\n    \n    if (surveydata$listen_Dance[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Dance[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Dance[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Dance[surveydata$id==x] < 3 | surveydata$listen_Dance[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Dance[surveydata$id==x] < 3 | surveydata$listen_Dance[surveydata$id==x] > 5) surveydata$Dancefan[surveydata$id==x] <- 0\n    else surveydata$Dancefan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Christian[surveydata$id==x] > 3 & surveydata$like_Christian[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"christian\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"christian\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"christian\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"christian\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"christian\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"christian\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"christian\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"christian\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"christian\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"christian\"]);\n    \n    if (surveydata$listen_Christian[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Christian[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Christian[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Christian[surveydata$id==x] < 3 | surveydata$listen_Christian[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Christian[surveydata$id==x] < 3 | surveydata$listen_Christian[surveydata$id==x] > 5) surveydata$Christianfan[surveydata$id==x] <- 0\n    else surveydata$Christianfan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Jazz[surveydata$id==x] > 3 & surveydata$like_Jazz[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"jazz\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"jazz\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"jazz\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"jazz\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"jazz\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"jazz\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"jazz\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"jazz\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"jazz\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"jazz\"]);\n    \n    if (surveydata$listen_Jazz[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Jazz[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Jazz[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Jazz[surveydata$id==x] < 3 | surveydata$listen_Jazz[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Jazz[surveydata$id==x] < 3 | surveydata$listen_Jazz[surveydata$id==x] > 5) surveydata$Jazzfan[surveydata$id==x] <- 0\n    else surveydata$Jazzfan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Reggae[surveydata$id==x] > 3 & surveydata$like_Reggae[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"reggae\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"reggae\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"reggae\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"reggae\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"reggae\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"reggae\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"reggae\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"reggae\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"reggae\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"reggae\"]);\n    \n    if (surveydata$listen_Reggae[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Reggae[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Reggae[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Reggae[surveydata$id==x] < 3 | surveydata$listen_Reggae[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Reggae[surveydata$id==x] < 3 | surveydata$listen_Reggae[surveydata$id==x] > 5) surveydata$Reggaefan[surveydata$id==x] <- 0\n    else surveydata$Reggaefan[surveydata$id==x] <- 1;\n  };\n  \n  if (surveydata$like_Blues[surveydata$id==x] > 3 & surveydata$like_Pop[surveydata$id==x] < 6) {\n    harmvec <- c(harmvec, genremeans$HarmZ2[genremeans$genre==\"blues\"]);\n    fairvec <- c(fairvec, genremeans$FairZ2[genremeans$genre==\"blues\"]);\n    ingvec <- c(ingvec, genremeans$IngZ2[genremeans$genre==\"blues\"]);\n    authvec <- c(authvec, genremeans$AuthZ2[genremeans$genre==\"blues\"]);\n    purityvec <- c(purityvec, genremeans$PurityZ2[genremeans$genre==\"blues\"]);\n    negvec <- c(negvec, genremeans$negemo[genremeans$genre==\"blues\"]);\n    posvec <- c(posvec, genremeans$posemo[genremeans$genre==\"blues\"]);\n    religvec <- c(religvec, genremeans$relig[genremeans$genre==\"blues\"]);\n    progvec <- c(progvec, genremeans$ProgressivismTotal[genremeans$genre==\"blues\"]);\n    polvec <- c(polvec, joinedmeans$politic[joinedmeans$genre==\"blues\"]);\n    \n    if (surveydata$listen_Blues[surveydata$id==x] == 3) weightvec <- c(weightvec, 1);\n    if (surveydata$listen_Blues[surveydata$id==x] == 4) weightvec <- c(weightvec, 2);\n    if (surveydata$listen_Blues[surveydata$id==x] == 5) weightvec <- c(weightvec, 4);\n    if (surveydata$listen_Blues[surveydata$id==x] < 3 | surveydata$listen_Blues[surveydata$id==x] > 5) weightvec <- c(weightvec, 0);\n    if (surveydata$listen_Blues[surveydata$id==x] < 3 | surveydata$listen_Blues[surveydata$id==x] > 5) surveydata$Bluesfan[surveydata$id==x] <- 0\n    else surveydata$Bluesfan[surveydata$id==x] <- 1;\n  };\n  \n  surveydata$lyricharmZ[surveydata$id==x] <- weighted.mean(harmvec, weightvec);\n  surveydata$lyricfairZ[surveydata$id==x] <- weighted.mean(fairvec, weightvec);\n  surveydata$lyricingZ[surveydata$id==x] <- weighted.mean(ingvec, weightvec);\n  surveydata$lyricauthZ[surveydata$id==x] <- weighted.mean(authvec, weightvec);\n  surveydata$lyricpurityZ[surveydata$id==x] <- weighted.mean(purityvec, weightvec);\n  surveydata$lyricprogZ[surveydata$id==x] <- weighted.mean(progvec, weightvec);\n  surveydata$lyricnegZ[surveydata$id==x] <- weighted.mean(negvec, weightvec);\n  surveydata$lyricposZ[surveydata$id==x] <- weighted.mean(posvec, weightvec);\n  surveydata$lyricreligZ[surveydata$id==x] <- weighted.mean(religvec, weightvec);\n}\n\nsurveydata$genresfanned <- surveydata$Popfan+surveydata$Rockfan+surveydata$Christianfan+surveydata$Countryfan+surveydata$Rapfan+surveydata$Dancefan+surveydata$Rbfan+surveydata$Reggaefan+surveydata$Bluesfan+surveydata$Jazzfan;\n\nsurveydata4 <- subset(surveydata, genresfanned >= 3);\nsurveydata2$ideo5[surveydata2$ideo5==6] <- NA;\nsurveydata2$pid3[surveydata2$pid3>2] <- NA;\nsurveydata2$respondent_race_2[surveydata2$respondent_race_2==2] <- 0;\n\nsurveydata3 <- subset(surveydata2, is.na(ideo5)==FALSE)\n",
    "created" : 1456805756197.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "605158252",
    "id" : "8541A76C",
    "lastKnownWriteTime" : 1456807164,
    "last_content_update" : 1456807164797,
    "path" : "~/BBSongDB/R analysis/weightingvariable.r",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 9,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}